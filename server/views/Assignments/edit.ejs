<%- include ../partials/header.ejs %>
<%- include ../partials/main_nav.ejs %>

<div class="container mt-4">
  <h2>Edit Assignment</h2>

  <form method="POST" action="/assignments/edit/<%= assignment._id %>">

    <!-- Title -->
    <div class="mb-3">
      <label class="form-label">Assignment Title</label>
      <input 
        type="text"
        name="title"
        class="form-control"
        value="<%= assignment.title %>"
        required
      />
    </div>

    <!-- Course -->
    <div class="mb-3">
      <label class="form-label">Course Name</label>
      <input 
        type="text"
        name="course"
        class="form-control"
        value="<%= assignment.course %>"
        required
      />
    </div>

    <!-- Due Date -->
    <div class="mb-3">
      <label class="form-label">Due Date</label>
      <input 
        type="date"
        name="dueDate"
        class="form-control"
        value="<%= new Date(assignment.dueDate).toISOString().split('T')[0] %>"
        required
      />
    </div>

    <!-- Status -->
    <div class="mb-3">
      <label class="form-label">Status</label>
      <select name="status" class="form-control">
        <option value="Pending" <%= assignment.status === 'Pending' ? 'selected' : '' %>>Pending</option>
        <option value="Completed" <%= assignment.status === 'Completed' ? 'selected' : '' %>>Completed</option>
      </select>
    </div>

    <!-- Description -->
    <div class="mb-3">
      <label class="form-label">Description</label>
      <textarea 
        name="description"
        class="form-control"
      ><%= assignment.description %></textarea>
    </div>

    <!-- Buttons -->
    <button type="submit" class="btn btn-primary">Update Assignment</button>
    <a href="/assignments" class="btn btn-warning">Cancel</a>

  </form>
</div>

<%- include ../partials/footer.ejs %>
